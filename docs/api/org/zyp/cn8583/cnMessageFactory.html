<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_10-rc2) on Fri Jun 06 14:56:52 CST 2014 -->
<TITLE>
cnMessageFactory
</TITLE>

<META NAME="date" CONTENT="2014-06-06">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="cnMessageFactory";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="跳过导航链接"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>概述</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>软件包</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>类</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/cnMessageFactory.html"><FONT CLASS="NavBarFont1"><B>使用</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>树</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>已过时</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>索引</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>帮助</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/zyp/cn8583/cnMessage.html" title="org.zyp.cn8583 中的类"><B>上一个类</B></A>&nbsp;
&nbsp;<A HREF="../../../org/zyp/cn8583/cnSystemTraceNumGenerator.html" title="org.zyp.cn8583 中的接口"><B>下一个类</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/zyp/cn8583/cnMessageFactory.html" target="_top"><B>框架</B></A>  &nbsp;
&nbsp;<A HREF="cnMessageFactory.html" target="_top"><B>无框架</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>所有类</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>所有类</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  摘要：&nbsp;嵌套&nbsp;|&nbsp;<A HREF="#field_summary">字段</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">构造方法</A>&nbsp;|&nbsp;<A HREF="#method_summary">方法</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
详细信息：&nbsp;<A HREF="#field_detail">字段</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">构造方法</A>&nbsp;|&nbsp;<A HREF="#method_detail">方法</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.zyp.cn8583</FONT>
<BR>
类 cnMessageFactory</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="继承者 "><B>org.zyp.cn8583.cnMessageFactory</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>cnMessageFactory</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
这是一个中国版的8583格式标准的类，初始代码来源于MessageFactory类。
 This class is used to create messages, either from scratch or from an existing String or byte
 buffer. It can be configured to put default values on newly created messages, and also to know
 what to expect when reading messages from an InputStream.
 <P>
 The factory can be configured to know what values to set for newly created messages, both from
 a template (useful for fields that must be set with the same value for EVERY message created)
 and individually (for trace [field 11] and message date [field 7]).
 <P>
 It can also be configured to know what fields to expect in incoming messages (all possible values
 must be stated, indicating the date type for each). This way the messages can be parsed from
 a byte buffer.
<P>

<P>
<DL>
<DT><B>作者：</B></DT>
  <DD>zyplanke</DD>
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>字段摘要</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;org.apache.commons.logging.Log</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/zyp/cn8583/cnMessageFactory.html#log">log</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>构造方法摘要</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../org/zyp/cn8583/cnMessageFactory.html#cnMessageFactory()">cnMessageFactory</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>方法摘要</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/zyp/cn8583/cnMessageFactory.html#addMessageTemplate(org.zyp.cn8583.cnMessage)">addMessageTemplate</A></B>(<A HREF="../../../org/zyp/cn8583/cnMessage.html" title="org.zyp.cn8583 中的类">cnMessage</A>&nbsp;templ)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a message template to the factory.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/zyp/cn8583/cnMessage.html" title="org.zyp.cn8583 中的类">cnMessage</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/zyp/cn8583/cnMessageFactory.html#createResponse(org.zyp.cn8583.cnMessage)">createResponse</A></B>(<A HREF="../../../org/zyp/cn8583/cnMessage.html" title="org.zyp.cn8583 中的类">cnMessage</A>&nbsp;request)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a message to respond to a request.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Integer</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/zyp/cn8583/cnMessageFactory.html#getHeaderLengthAttr(java.lang.String)">getHeaderLengthAttr</A></B>(java.lang.String&nbsp;msgtypeid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the 8583 header length for the specified type.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/zyp/cn8583/cnSystemTraceNumGenerator.html" title="org.zyp.cn8583 中的接口">cnSystemTraceNumGenerator</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/zyp/cn8583/cnMessageFactory.html#getSystemTraceNumberGenerator()">getSystemTraceNumberGenerator</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the generator used to assign trace numbers to new messages.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/zyp/cn8583/cnMessageFactory.html#getUseBinary()">getUseBinary</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true is the factory is set to create and parse binary messages,
 false if it uses ASCII messages.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/zyp/cn8583/cnMessageFactory.html#getUseCurrentDate()">getUseCurrentDate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if the factory is assigning the current date to newly created messages
 (field 7).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/zyp/cn8583/cnMessage.html" title="org.zyp.cn8583 中的类">cnMessage</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/zyp/cn8583/cnMessageFactory.html#newMessagefromTemplate(java.lang.String)">newMessagefromTemplate</A></B>(java.lang.String&nbsp;msgtypeid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new message of the specified type id from message template.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/zyp/cn8583/cnMessage.html" title="org.zyp.cn8583 中的类">cnMessage</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/zyp/cn8583/cnMessageFactory.html#parseMessage(byte[], int)">parseMessage</A></B>(byte[]&nbsp;buf,
             int&nbsp;msgheaderlength)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new message instance from the buffer, which must contain a
 valid 8583 message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/zyp/cn8583/cnMessageFactory.html#removeMessageTemplate(java.lang.String)">removeMessageTemplate</A></B>(java.lang.String&nbsp;msgtypeid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the message template for the specified message type id.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/zyp/cn8583/cnMessageFactory.html#setEtx(int)">setEtx</A></B>(int&nbsp;value)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the ETX character to be sent at the end of the message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/zyp/cn8583/cnMessageFactory.html#setHeaderLengthAttr(java.lang.String, java.lang.Integer)">setHeaderLengthAttr</A></B>(java.lang.String&nbsp;msgtypeid,
                    java.lang.Integer&nbsp;headerlen)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the 8583 header attr for a specific message type.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/zyp/cn8583/cnMessageFactory.html#setHeaders(java.util.Map)">setHeaders</A></B>(java.util.Map&lt;java.lang.String,java.lang.Integer&gt;&nbsp;value)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the 8583 header to be used in each message type.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/zyp/cn8583/cnMessageFactory.html#setMessageTemplate(java.lang.String, org.zyp.cn8583.cnMessage)">setMessageTemplate</A></B>(java.lang.String&nbsp;msgtypeid,
                   <A HREF="../../../org/zyp/cn8583/cnMessage.html" title="org.zyp.cn8583 中的类">cnMessage</A>&nbsp;templ)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>已过时。</B>&nbsp;<I>Use addMessageTemplate(cnMessage) and removeMessageTemplate(String) instead of this.</I></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/zyp/cn8583/cnMessageFactory.html#setParseMap(java.lang.String, java.util.Map)">setParseMap</A></B>(java.lang.String&nbsp;msgtypeid,
            java.util.Map&lt;java.lang.Integer,<A HREF="../../../org/zyp/cn8583/parse/cnFieldParseInfo.html" title="org.zyp.cn8583.parse 中的类">cnFieldParseInfo</A>&gt;&nbsp;map)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets a map with the fields that are to be expected when parsing a certain type of
 message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/zyp/cn8583/cnMessageFactory.html#setSystemTraceNumberGenerator(org.zyp.cn8583.cnSystemTraceNumGenerator)">setSystemTraceNumberGenerator</A></B>(<A HREF="../../../org/zyp/cn8583/cnSystemTraceNumGenerator.html" title="org.zyp.cn8583 中的接口">cnSystemTraceNumGenerator</A>&nbsp;value)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the generator that this factory will get new trace numbers from.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/zyp/cn8583/cnMessageFactory.html#setUseBinary(boolean)">setUseBinary</A></B>(boolean&nbsp;flag)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tells the receiver to create and parse binary messages if the flag is true.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/zyp/cn8583/cnMessageFactory.html#setUseCurrentDate(boolean)">setUseCurrentDate</A></B>(boolean&nbsp;flag)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets whether the factory should set the current date on newly created messages,
 in field 7.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>从类 java.lang.Object 继承的方法</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>字段详细信息</B></FONT></TH>
</TR>
</TABLE>

<A NAME="log"><!-- --></A><H3>
log</H3>
<PRE>
protected static final org.apache.commons.logging.Log <B>log</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>构造方法详细信息</B></FONT></TH>
</TR>
</TABLE>

<A NAME="cnMessageFactory()"><!-- --></A><H3>
cnMessageFactory</H3>
<PRE>
public <B>cnMessageFactory</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>方法详细信息</B></FONT></TH>
</TR>
</TABLE>

<A NAME="setUseBinary(boolean)"><!-- --></A><H3>
setUseBinary</H3>
<PRE>
public void <B>setUseBinary</B>(boolean&nbsp;flag)</PRE>
<DL>
<DD>Tells the receiver to create and parse binary messages if the flag is true.
 Default is false, that is, create and parse ASCII messages.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getUseBinary()"><!-- --></A><H3>
getUseBinary</H3>
<PRE>
public boolean <B>getUseBinary</B>()</PRE>
<DL>
<DD>Returns true is the factory is set to create and parse binary messages,
 false if it uses ASCII messages. Default is false.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setEtx(int)"><!-- --></A><H3>
setEtx</H3>
<PRE>
public void <B>setEtx</B>(int&nbsp;value)</PRE>
<DL>
<DD>Sets the ETX character to be sent at the end of the message. This is optional and the
 default is -1, which means nothing should be sent as terminator.
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>value</CODE> - The ASCII value of the ETX character or -1 to indicate no terminator should be used.</DL>
</DD>
</DL>
<HR>

<A NAME="newMessagefromTemplate(java.lang.String)"><!-- --></A><H3>
newMessagefromTemplate</H3>
<PRE>
public <A HREF="../../../org/zyp/cn8583/cnMessage.html" title="org.zyp.cn8583 中的类">cnMessage</A> <B>newMessagefromTemplate</B>(java.lang.String&nbsp;msgtypeid)</PRE>
<DL>
<DD>Creates a new message of the specified type id from message template. If the factory is set to use binary
 messages, then the returned message will be written using binary coding.
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>msgtypeid</CODE> - The message type id, 应为4个字节字符</DL>
</DD>
</DL>
<HR>

<A NAME="createResponse(org.zyp.cn8583.cnMessage)"><!-- --></A><H3>
createResponse</H3>
<PRE>
public <A HREF="../../../org/zyp/cn8583/cnMessage.html" title="org.zyp.cn8583 中的类">cnMessage</A> <B>createResponse</B>(<A HREF="../../../org/zyp/cn8583/cnMessage.html" title="org.zyp.cn8583 中的类">cnMessage</A>&nbsp;request)</PRE>
<DL>
<DD>Creates a message to respond to a request. <P/>
 根据请求报文生产回应报文 (回应报文的标示的第三位为：请求报文第三位加一) <P/>
 sets all fields from the template if there is one, and copies all values from the request,
 overwriting fields from the template if they overlap.
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>request</CODE> - An 8583 message with a request type (ending in 00).</DL>
</DD>
</DL>
<HR>

<A NAME="parseMessage(byte[], int)"><!-- --></A><H3>
parseMessage</H3>
<PRE>
public <A HREF="../../../org/zyp/cn8583/cnMessage.html" title="org.zyp.cn8583 中的类">cnMessage</A> <B>parseMessage</B>(byte[]&nbsp;buf,
                              int&nbsp;msgheaderlength)
                       throws java.text.ParseException</PRE>
<DL>
<DD>Creates a new message instance from the buffer, which must contain a
 valid 8583 message. If the factory is set to use binary messages then it
 will try to parse a binary message.
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>buf</CODE> - The byte buffer containing the message. Must not include the
            length header.<DD><CODE>msgheaderlength</CODE> - The expected length of the 8583 header, after which the
            message type id and the rest of the message must come.
<DT><B>抛出：</B>
<DD><CODE>java.text.ParseException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setUseCurrentDate(boolean)"><!-- --></A><H3>
setUseCurrentDate</H3>
<PRE>
public void <B>setUseCurrentDate</B>(boolean&nbsp;flag)</PRE>
<DL>
<DD>Sets whether the factory should set the current date on newly created messages,
 in field 7. Default is false.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getUseCurrentDate()"><!-- --></A><H3>
getUseCurrentDate</H3>
<PRE>
public boolean <B>getUseCurrentDate</B>()</PRE>
<DL>
<DD>Returns true if the factory is assigning the current date to newly created messages
 (field 7). Default is false.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setSystemTraceNumberGenerator(org.zyp.cn8583.cnSystemTraceNumGenerator)"><!-- --></A><H3>
setSystemTraceNumberGenerator</H3>
<PRE>
public void <B>setSystemTraceNumberGenerator</B>(<A HREF="../../../org/zyp/cn8583/cnSystemTraceNumGenerator.html" title="org.zyp.cn8583 中的接口">cnSystemTraceNumGenerator</A>&nbsp;value)</PRE>
<DL>
<DD>Sets the generator that this factory will get new trace numbers from. There is no
 default generator.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getSystemTraceNumberGenerator()"><!-- --></A><H3>
getSystemTraceNumberGenerator</H3>
<PRE>
public <A HREF="../../../org/zyp/cn8583/cnSystemTraceNumGenerator.html" title="org.zyp.cn8583 中的接口">cnSystemTraceNumGenerator</A> <B>getSystemTraceNumberGenerator</B>()</PRE>
<DL>
<DD>Returns the generator used to assign trace numbers to new messages.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setHeaders(java.util.Map)"><!-- --></A><H3>
setHeaders</H3>
<PRE>
public void <B>setHeaders</B>(java.util.Map&lt;java.lang.String,java.lang.Integer&gt;&nbsp;value)</PRE>
<DL>
<DD>Sets the 8583 header to be used in each message type.
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>value</CODE> - A map where the keys are the message type id and the values are the message headers length.</DL>
</DD>
</DL>
<HR>

<A NAME="setHeaderLengthAttr(java.lang.String, java.lang.Integer)"><!-- --></A><H3>
setHeaderLengthAttr</H3>
<PRE>
public void <B>setHeaderLengthAttr</B>(java.lang.String&nbsp;msgtypeid,
                                java.lang.Integer&nbsp;headerlen)</PRE>
<DL>
<DD>Sets the 8583 header attr for a specific message type.
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>msgtypeid</CODE> - The message type( 4 bytes)<DD><CODE>headerlen</CODE> - The message header length</DL>
</DD>
</DL>
<HR>

<A NAME="getHeaderLengthAttr(java.lang.String)"><!-- --></A><H3>
getHeaderLengthAttr</H3>
<PRE>
public java.lang.Integer <B>getHeaderLengthAttr</B>(java.lang.String&nbsp;msgtypeid)</PRE>
<DL>
<DD>Returns the 8583 header length for the specified type.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addMessageTemplate(org.zyp.cn8583.cnMessage)"><!-- --></A><H3>
addMessageTemplate</H3>
<PRE>
public void <B>addMessageTemplate</B>(<A HREF="../../../org/zyp/cn8583/cnMessage.html" title="org.zyp.cn8583 中的类">cnMessage</A>&nbsp;templ)</PRE>
<DL>
<DD>Adds a message template to the factory. If there was a template for the same
 message type id as the new one, it is overwritten.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="removeMessageTemplate(java.lang.String)"><!-- --></A><H3>
removeMessageTemplate</H3>
<PRE>
public void <B>removeMessageTemplate</B>(java.lang.String&nbsp;msgtypeid)</PRE>
<DL>
<DD>Removes the message template for the specified message type id.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setMessageTemplate(java.lang.String, org.zyp.cn8583.cnMessage)"><!-- --></A><H3>
setMessageTemplate</H3>
<PRE>
public void <B>setMessageTemplate</B>(java.lang.String&nbsp;msgtypeid,
                               <A HREF="../../../org/zyp/cn8583/cnMessage.html" title="org.zyp.cn8583 中的类">cnMessage</A>&nbsp;templ)</PRE>
<DL>
<DD><B>已过时。</B>&nbsp;<I>Use addMessageTemplate(cnMessage) and removeMessageTemplate(String) instead of this.</I>
<P>
<DD>Sets a message template for a specified message type. When new messages of that type
 are created, they will have the same values as the template.
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>msgtypeid</CODE> - The message type id.<DD><CODE>templ</CODE> - The message from which fields should be copied, or NULL to remove the
 template for this message type.</DL>
</DD>
</DL>
<HR>

<A NAME="setParseMap(java.lang.String, java.util.Map)"><!-- --></A><H3>
setParseMap</H3>
<PRE>
public void <B>setParseMap</B>(java.lang.String&nbsp;msgtypeid,
                        java.util.Map&lt;java.lang.Integer,<A HREF="../../../org/zyp/cn8583/parse/cnFieldParseInfo.html" title="org.zyp.cn8583.parse 中的类">cnFieldParseInfo</A>&gt;&nbsp;map)</PRE>
<DL>
<DD>Sets a map with the fields that are to be expected when parsing a certain type of
 message.
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>msgtypeid</CODE> - The message type id.<DD><CODE>map</CODE> - A map of FieldParseInfo instances, each of which define what type and length
 of field to expect. The keys will be the field numbers.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="跳过导航链接"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>概述</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>软件包</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>类</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/cnMessageFactory.html"><FONT CLASS="NavBarFont1"><B>使用</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>树</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>已过时</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>索引</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>帮助</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/zyp/cn8583/cnMessage.html" title="org.zyp.cn8583 中的类"><B>上一个类</B></A>&nbsp;
&nbsp;<A HREF="../../../org/zyp/cn8583/cnSystemTraceNumGenerator.html" title="org.zyp.cn8583 中的接口"><B>下一个类</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/zyp/cn8583/cnMessageFactory.html" target="_top"><B>框架</B></A>  &nbsp;
&nbsp;<A HREF="cnMessageFactory.html" target="_top"><B>无框架</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>所有类</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>所有类</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  摘要：&nbsp;嵌套&nbsp;|&nbsp;<A HREF="#field_summary">字段</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">构造方法</A>&nbsp;|&nbsp;<A HREF="#method_summary">方法</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
详细信息：&nbsp;<A HREF="#field_detail">字段</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">构造方法</A>&nbsp;|&nbsp;<A HREF="#method_detail">方法</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
